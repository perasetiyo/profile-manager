{"version":3,"sources":["Http/Validators/BaseValidator.js"],"names":["BaseValidator","type","action","ctx","console","log","stack","VALIDATOR","Common","errors","Invalid","code","internal"],"mappings":";;;;;;;;;;;;;;IAEqBA,a;AACjB,2BAAYC,IAAZ,EAAkBC,MAAlB,EAA0BC,GAA1B,EAA+B;AAAA;;AAC3B,aAAKF,IAAL,GAAYA,IAAZ;AACA,aAAKC,MAAL,GAAcA,MAAd;AACA,aAAKC,GAAL,GAAWA,GAAX;AACH;;;;;;;;;;;;;sCAIW,OAAO,KAAK,KAAKD,MAAV,CAAP,KAA6B,U;;;;;;uCACvB,KAAK,KAAKA,MAAV,G;;;;;;;;;;AAGVE,wCAAQC,GAAR,CAAY,YAAMC,KAAlB;sCACM,mBAAc,mBAAd,EAAmC,iBAAYC,SAAZ,CAAsBC,MAAzD,C;;;AAEFC,sC,GAAW,KAAKN,G,CAAhBM,M;;qCACJA,M;;;;;AACAL,wCAAQC,GAAR,CAAYI,MAAZ;sCACM,mBACF,oBADE,EAEF,iBAAYF,SAAZ,CAAsBG,OAAtB,CAA8BC,IAF5B,EAGF,iBAAYJ,SAAZ,CAAsBG,OAAtB,CAA8BE,QAH5B,EAIF,EAAEH,cAAF,EAJE,C;;;AAONL,wCAAQC,GAAR,iBAA0B,KAAKH,MAA/B;;;;;;;;;;;;;;;;;;;;;kBA1BSF,a","file":"Http/Validators/BaseValidator.js","sourcesContent":["import { ERROR_CODES, HttpError } from 'people-manager/app';\n\nexport default class BaseValidator {\n    constructor(type, action, ctx) {\n        this.type = type;\n        this.action = action;\n        this.ctx = ctx;\n    }\n\n    async validate() {\n        try {\n            if (typeof this[this.action] === 'function') {\n                await this[this.action]();\n            }\n        } catch (error) {\n            console.log(error.stack);\n            throw new HttpError('Validation Failed', ERROR_CODES.VALIDATOR.Common);\n        }\n        const { errors } = this.ctx;\n        if (errors) {\n            console.log(errors);\n            throw new HttpError(\n                'Invalid Parameters',\n                ERROR_CODES.VALIDATOR.Invalid.code,\n                ERROR_CODES.VALIDATOR.Invalid.internal,\n                { errors }\n            );\n        } else {\n            console.log(`validation ${this.action} passed`);\n        }\n    }\n}\n"],"sourceRoot":"/home/apas/project/people-manager/src"}